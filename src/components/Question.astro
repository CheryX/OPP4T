---
const questions = [
    ["Ile to 2+2", "4", "3", "2", "5.5"],
    ["Ile to 2+2*2", "6", "8", "4", "6.5"]
]
---

<main>
    <p id="ques">eqeqeqqe rwreew rw erwe rwe  werwer</p>
    <button id="gen">Generuj Pytanie</button>

    <div id="answers">
        <button id="0">AFDGKSHGSJD</button>
        <button id="1">Bf</button>
        <button id="2">C</button>
        <button id="3">D</button>
    </div>

</main>

<script define:vars={{ questions }}>

    const maxAnswers = 4; //A, B, C, D
    const questionList = JSON.stringify(questions);
    var questionsTemp = JSON.parse(questionList);

    document.getElementById("gen").addEventListener("click", generateQuestion)

    function generateQuestion() {
        
        if (questionsTemp.length == 0) questionsTemp = JSON.parse(questionList);

        const index = Math.floor(Math.random() * questionsTemp.length)
        const correctAnswer = Math.floor(Math.random() * (maxAnswers-1) ) // nie Å›ciÄ…gaj jk ðŸ˜‰
        
        const selQuestion = questionsTemp[index];
        questionsTemp[index] = null;
        questionsTemp = questionsTemp.filter(n => n);

        document.getElementById("ques").innerText = selQuestion[0]

        let answers = document.getElementById("answers");
        let buttons = answers.children

        for (let i = 0; i < buttons.length; i++) {
            const id = parseInt(buttons[i].id);
            
            if (id == correctAnswer) {
                document.getElementById(id).innerText = selQuestion[1];
            }
            
        }
    
    }

    generateQuestion()
        
</script>

<style>

footer {
    display: flex;
    
    padding: 1em;
}
#answers > button {
    position: relative;
}
#answers > button::before {
    content: 'A';
    position: absolute;
    left: 50%;
    z-index: -100;
    color: rgba(0, 0, 0, 0.3);
    font-weight: 900;

    font-size: 1.4em;
    transform: translate(0, -14%);
}
#answers > button {
    background: none;
    border: none;
    font-size: 4em;
    color: var(--light);
    border: solid var(--dark);

    margin-right: 1em;
}
#answers > butoon:nth-child(0) {content: 'A';}
#answers > butoon:nth-child(1) {content: 'A';}
#answers > butoon:nth-child(2) {content: 'A';}
#answers > butoon:nth-child(3) {content: 'AB';}

</style>